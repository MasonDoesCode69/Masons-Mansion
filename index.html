<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mason‚Äôs Mansion | V16 Architect</title>
    <link href="fonts.googleapis.com" rel="stylesheet">
    <style>
        :root {
            --bg: #010103; --accent: #ffcc33; --glow: rgba(255, 204, 51, 0.4);
            --glass: rgba(10, 10, 15, 0.98); --border: rgba(255, 255, 255, 0.05);
            --font-main: 'Orbitron', sans-serif; --font-mono: 'JetBrains Mono', monospace;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        body, html { width: 100%; height: 100%; overflow: hidden; background: var(--bg); color: #fff; font-family: var(--font-main); cursor: crosshair; transition: background 0.5s ease; }
        canvas { position: fixed; inset: 0; z-index: 0; }

        /* --- MASON BRANDING --- */
        #branding { position: fixed; bottom: 30px; left: 40px; z-index: 1000; pointer-events: none; }
        #branding h2 { font-family: 'Syncopate'; font-size: 14px; letter-spacing: 10px; color: var(--accent); text-shadow: 0 0 10px var(--glow); }
        #branding p { font-family: var(--font-mono); font-size: 8px; opacity: 0.5; letter-spacing: 4px; margin-top: 5px; }

        /* --- AUTH --- */
        #auth-wrap { position: fixed; inset: 0; z-index: 9999; display: flex; align-items: center; justify-content: center; background: #000; transition: 1.2s; }
        .login-box { width: 450px; padding: 60px; background: var(--glass); border: 1px solid var(--border); text-align: center; border-radius: 4px; }
        .login-box h1 { font-family: 'Syncopate'; letter-spacing: 12px; font-size: 18px; color: var(--accent); margin-bottom: 40px; }
        .login-box input { width: 100%; background: #050505; border: 1px solid var(--border); padding: 18px; color: #fff; text-align: center; margin-bottom: 20px; font-family: var(--font-mono); }
        .login-btn { width: 100%; padding: 18px; background: var(--accent); color: #000; font-weight: 900; border: none; cursor: pointer; letter-spacing: 5px; font-family: var(--font-main); }

        /* --- M.A.V.I.S AI SYSTEM --- */
        #ai-interface { position: fixed; top: 180px; left: 40px; width: 350px; z-index: 2000; }
        #mavis-face { width: 80px; height: 80px; border: 2px solid var(--accent); border-radius: 50%; margin-bottom: 20px; position: relative; box-shadow: 0 0 30px var(--glow); animation: float 4s infinite; transition: 0.3s; }
        .eye-row { display: flex; justify-content: space-around; width: 30px; position: absolute; top: 25px; left: 23px; }
        .eye { width: 6px; height: 6px; background: var(--accent); border-radius: 50%; box-shadow: 0 0 10px var(--accent); }
        #mouth { width: 25px; height: 10px; border-bottom: 3px solid var(--accent); border-radius: 0 0 20px 20px; position: absolute; bottom: 20px; left: 26px; transition: 0.2s; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        
        #ai-bubble { background: var(--glass); border: 1px solid var(--border); padding: 20px; border-radius: 10px; font-size: 11px; font-family: var(--font-mono); color: #ccc; margin-bottom: 15px; border-left: 4px solid var(--accent); min-height: 60px; line-height: 1.6; }
        #ai-input { width: 100%; background: rgba(255,255,255,0.03); border: 1px solid var(--border); padding: 12px; color: var(--accent); font-family: var(--font-mono); border-radius: 5px; }

        /* --- CHRONOS HUD --- */
        #hud { position: fixed; top: 40px; right: 40px; text-align: right; z-index: 1000; }
        #time { font-size: 64px; font-weight: 900; color: var(--accent); letter-spacing: 10px; line-height: 1; }
        #date { font-size: 12px; opacity: 0.5; letter-spacing: 4px; font-family: var(--font-mono); margin-top: 10px; }

        /* --- WINDOWS --- */
        .window { position: absolute; background: var(--glass); border: 1px solid var(--border); display: none; flex-direction: column; box-shadow: 0 50px 150px #000; z-index: 3000; overflow: hidden; backdrop-filter: blur(25px); border-radius: 8px; }
        .win-bar { padding: 18px 25px; background: rgba(255,255,255,0.05); cursor: move; display: flex; justify-content: space-between; font-weight: 900; font-size: 11px; letter-spacing: 4px; }
        
        /* --- THEME LIST --- */
        .theme-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 20px; }
        .theme-btn { padding: 15px; background: rgba(255,255,255,0.02); border: 1px solid var(--border); color: #fff; cursor: pointer; font-family: var(--font-mono); font-size: 10px; text-align: left; transition: 0.2s; }
        .theme-btn:hover { border-color: var(--accent); background: rgba(255,255,255,0.08); }

        /* --- TASKBAR --- */
        #taskbar { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background: var(--glass); border: 1px solid var(--border); padding: 12px 40px; border-radius: 100px; display: flex; gap: 30px; z-index: 5000; }
        .icon { width: 55px; height: 55px; display: flex; align-items: center; justify-content: center; font-size: 26px; cursor: pointer; transition: 0.3s; border-radius: 50%; }
        .icon:hover { transform: translateY(-15px); background: var(--accent); color: #000; box-shadow: 0 10px 30px var(--glow); }

        .hidden { display: none !important; }
        iframe { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body>

    <canvas id="canvas"></canvas>

    <div id="branding">
        <h2>MASONS MANSION</h2>
        <p>MADE BY MASON PORRAZZO // V16 ARCHITECT</p>
    </div>

    <div id="auth-wrap">
        <div class="login-box">
            <h1>AUTHENTICATE</h1>
            <input type="password" id="sys-pass" placeholder="ACCESS KEY">
            <button class="login-btn" onclick="Engine.init()">ENTER MANSION</button>
        </div>
    </div>

    <div id="desktop" class="hidden">
        <div id="hud">
            <div id="time">00:00:00</div>
            <div id="date">JANUARY 08, 2026</div>
        </div>

        <div id="ai-interface">
            <div id="mavis-face">
                <div class="eye-row"><div class="eye"></div><div class="eye"></div></div>
                <div id="mouth"></div>
            </div>
            <div id="ai-bubble">M.A.V.I.S: Identity confirmed. Welcome home, Mason Porrazzo. Awaiting command.</div>
            <input type="text" id="ai-input" placeholder="TALK TO M.A.V.I.S..." onkeypress="Engine.talk(event)">
        </div>

        <div id="win-themes" class="window" style="width:400px; height:500px;">
            <div class="win-bar"><span>üé® THEME_VAULT</span><span onclick="Engine.close('themes')" style="cursor:pointer">√ó</span></div>
            <div class="theme-grid" id="theme-grid"></div>
        </div>

        <div id="win-games" class="window" style="width:1000px; height:650px;">
            <div class="win-bar"><span>‚öîÔ∏è GAME_CENTER</span><span onclick="Engine.close('games')" style="cursor:pointer">√ó</span></div>
            <div id="game-frame" style="flex:1"></div>
        </div>

        <div id="taskbar">
            <div class="icon" title="Themes" onclick="Engine.open('themes')">üé®</div>
            <div class="icon" title="Gladihoppers" onclick="Engine.open('games', 'usernamegth.github.io')">‚öîÔ∏è</div>
            <div class="icon" title="Slope" onclick="Engine.open('games', '96f.github.io')">‚õ∑Ô∏è</div>
        </div>
    </div>

    <script>
        const MAVIS_BRAIN = {
            nerdEmoji: "ü§ì",
            restricted: ["fuck", "shit", "bitch", "ass", "hell", "damn", "crap"],
            
            getResponse(input) {
                const query = input.toLowerCase();
                
                if (this.restricted.some(word => query.includes(word))) {
                    return `I must insist on a more professional vernacular within the Mansion walls, sir. Let's keep it friendly! ${this.nerdEmoji}`;
                }

                if (query.includes("who are you")) return "I am M.A.V.I.S., your Advanced Virtual Intelligence System. I manage the Mansion's protocols while you oversee the architecture.";
                if (query.includes("hello") || query.includes("hey")) return "Greetings, sir. It is a pleasure to see you. All systems are green.";
                if (query.includes("status")) return "The V16 Architect core is stable. Power levels at 100%. Your mansion is currently impenetrable.";
                if (query.includes("time")) return `The current time is ${document.getElementById('time').innerText}. Precision is key.`;
                if (query.includes("theme")) return "To alter the visual aesthetics, please access the Theme Vault via the taskbar below.";
                if (query.includes("mason")) return "Mason Porrazzo is the Architect. I am merely the ghost in the machine that keeps his vision running.";
                
                return "Interesting request. I shall log that into my neural database for future processing. Is there anything else I can assist with?";
            }
        };

        const Engine = {
            themes: [
                {n:'Honey Gold', a:'#ffcc33', b:'#010103'}, 
                {n:'Cyber Neon', a:'#00f2ff', b:'#050a15'},
                {n:'Vampire', a:'#ff1f1f', b:'#0a0000'}, 
                {n:'Emerald', a:'#50c878', b:'#000f05'},
                {n:'Obsidian', a:'#ffffff', b:'#000000'}, 
                {n:'Amethyst', a:'#bc13fe', b:'#08000f'}
            ],

            init() {
                const pass = document.getElementById('sys-pass').value;
                if (pass === "v16" || pass === "") { // Default key is v16
                    document.getElementById('auth-wrap').style.opacity = '0';
                    setTimeout(() => {
                        document.getElementById('auth-wrap').classList.add('hidden');
                        document.getElementById('desktop').classList.remove('hidden');
                        this.startCanvas();
                        this.updateClock();
                        this.loadThemes();
                    }, 1000);
                } else {
                    alert("ACCESS DENIED");
                }
            },

            talk(e) {
                if (e.key === 'Enter') {
                    const input = document.getElementById('ai-input');
                    const bubble = document.getElementById('ai-bubble');
                    const mouth = document.getElementById('mouth');
                    const val = input.value.trim();
                    if(!val) return;

                    mouth.style.height = "18px"; // Speak animation
                    mouth.style.borderRadius = "50%";
                    
                    setTimeout(() => {
                        const response = MAVIS_BRAIN.getResponse(val);
                        bubble.innerHTML = `M.A.V.I.S: ${response}`;
                        mouth.style.height = "10px";
                        mouth.style.borderRadius = "0 0 20px 20px";
                        input.value = "";
                    }, 500);
                }
            },

            open(win, url = null) {
                const target = document.getElementById(`win-${win}`);
                target.style.display = 'flex';
                target.style.top = '15%';
                target.style.left = '25%';
                if(url) {
                    document.getElementById('game-frame').innerHTML = `<iframe src="https://${url}"></iframe>`;
                }
            },

            close(win) {
                document.getElementById(`win-${win}`).style.display = 'none';
            },

            loadThemes() {
                const grid = document.getElementById('theme-grid');
                this.themes.forEach(t => {
                    let btn = document.createElement('div');
                    btn.className = 'theme-btn';
                    btn.innerHTML = t.n;
                    btn.onclick = () => {
                        document.documentElement.style.setProperty('--accent', t.a);
                        document.documentElement.style.setProperty('--bg', t.b);
                        document.documentElement.style.setProperty('--glow', t.a + '66');
                    };
                    grid.appendChild(btn);
                });
            },

            updateClock() {
                setInterval(() => {
                    const now = new Date();
                    document.getElementById('time').innerText = now.toLocaleTimeString('en-US', { hour12: false });
                }, 1000);
            },

            startCanvas() {
                const canvas = document.getElementById('canvas');
                const ctx = canvas.getContext('2d');
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                let particles = [];
                for(let i=0; i<80; i++) particles.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, s: Math.random()*2, vx: (Math.random()-0.5)*0.5, vy: (Math.random()-0.5)*0.5});
                
                function draw() {
                    ctx.clearRect(0,0,canvas.width, canvas.height);
                    ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--accent');
                    particles.forEach(p => {
                        p.x += p.vx; p.y += p.vy;
                        if(p.x<0 || p.x>canvas.width) p.vx*=-1;
                        if(p.y<0 || p.y>canvas.height) p.vy*=-1;
                        ctx.beginPath(); ctx.arc(p.x, p.y, p.s, 0, Math.PI*2); ctx.fill();
                    });
                    requestAnimationFrame(draw);
                }
                draw();
            }
        };

        // Draggable windows
        document.querySelectorAll('.win-bar').forEach(bar => {
            bar.onmousedown = (e) => {
                let win = bar.parentElement;
                let ox = e.clientX - win.offsetLeft;
                let oy = e.clientY - win.offsetTop;
                document.onmousemove = (e) => {
                    win.style.left = (e.clientX - ox) + 'px';
                    win.style.top = (e.clientY - oy) + 'px';
                };
                document.onmouseup = () => document.onmousemove = null;
            };
        });
    </script>
</body>
</html>
