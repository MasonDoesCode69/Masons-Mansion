<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mason‚Äôs Mansion | V18.2026 Architect</title>
    <style>
        :root {
            --bg: #020205; --accent: #ffcc33; --glow: rgba(255, 204, 51, 0.5);
            --glass: rgba(20, 20, 30, 0.7); --border: rgba(255, 255, 255, 0.15);
            --font-main: 'Orbitron', sans-serif; --font-mono: 'JetBrains Mono', monospace;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        body, html { width: 100%; height: 100%; overflow: hidden; background: var(--bg); color: #fff; font-family: var(--font-main); cursor: crosshair; }
        
        /* --- M.A.R.K INTERFACE (V18 LIQUID GLASS) --- */
        #ai-interface { position: fixed; top: 120px; left: 40px; width: 400px; z-index: 2000; }
        #mark-face { width: 120px; height: 120px; border: 3px solid var(--accent); border-radius: 50%; margin-bottom: 25px; position: relative; box-shadow: 0 0 50px var(--glow); background: radial-gradient(circle, #111, #000); }
        .eye-socket { width: 30px; height: 30px; background: rgba(255,255,255,0.03); border-radius: 50%; position: absolute; top: 35px; overflow: hidden; border: 1px solid var(--border); }
        .eye-socket.left { left: 25px; } .eye-socket.right { right: 25px; }
        .pupil { width: 12px; height: 12px; background: var(--accent); border-radius: 50%; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); transition: 0.05s linear; box-shadow: 0 0 15px var(--accent); }
        #mouth { width: 40px; height: 15px; border-bottom: 3px solid var(--accent); border-radius: 0 0 30px 30px; position: absolute; bottom: 30px; left: 37px; }
        #ai-bubble { background: var(--glass); border: 1px solid var(--border); padding: 20px; border-radius: 20px; font-size: 13px; font-family: var(--font-mono); line-height: 1.6; border-left: 6px solid var(--accent); backdrop-filter: blur(50px); box-shadow: 0 20px 40px rgba(0,0,0,0.5); }

        /* --- V18 DESKTOP & WINDOWS --- */
        .window { position: absolute; background: var(--glass); border: 1px solid var(--border); display: none; flex-direction: column; z-index: 3000; border-radius: 20px; overflow: hidden; backdrop-filter: blur(80px); box-shadow: 0 40px 100px #000; transition: transform 0.3s cubic-bezier(0.1, 0.9, 0.2, 1); }
        .win-bar { padding: 15px 25px; background: rgba(255,255,255,0.08); cursor: move; display: flex; justify-content: space-between; font-size: 10px; letter-spacing: 3px; font-weight: 900; }
        .close-btn { color: #ff4444; cursor: pointer; font-size: 18px; }

        /* --- BENTO GAME GRIDS --- */
        .grid-container { padding: 20px; background: #000; }
        .c4-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; }
        .c4-cell { width: 40px; height: 40px; background: #1a1a1a; border-radius: 50%; border: 1px solid #333; cursor: pointer; transition: 0.2s; }
        .c4-cell.p1 { background: var(--accent); box-shadow: 0 0 15px var(--glow); }
        .c4-cell.p2 { background: #ff4444; box-shadow: 0 0 15px rgba(255,68,68,0.4); }

        .ttt-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .ttt-cell { width: 90px; height: 90px; background: rgba(255,255,255,0.03); border: 1px solid var(--border); display: flex; align-items: center; justify-content: center; font-size: 32px; cursor: pointer; color: var(--accent); border-radius: 12px; }

        #taskbar { position: fixed; bottom: 35px; left: 50%; transform: translateX(-50%); background: var(--glass); border: 1px solid var(--border); padding: 12px 40px; border-radius: 100px; display: flex; gap: 30px; z-index: 5000; backdrop-filter: blur(40px); }
        .icon { font-size: 30px; cursor: pointer; transition: 0.4s; filter: grayscale(1); }
        .icon:hover { transform: scale(1.3) translateY(-10px); filter: grayscale(0); }
        
        #hud { position: fixed; top: 40px; right: 50px; text-align: right; pointer-events: none; }
        #time { font-size: 64px; color: var(--accent); font-weight: 900; letter-spacing: 5px; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div id="auth-wrap" style="position:fixed; inset:0; z-index:9999; display:flex; align-items:center; justify-content:center; background:#000;">
        <div style="text-align:center; width:350px;">
            <h1 style="color:var(--accent); margin-bottom:30px; letter-spacing:10px;">ARCHITECT_V18</h1>
            <input type="password" id="sys-pass" placeholder="ACCESS KEY" style="width:100%; background:#111; border:1px solid #333; padding:15px; color:var(--accent); margin-bottom:20px; border-radius:10px; text-align:center;">
            <button onclick="OS.boot()" style="width:100%; padding:15px; background:var(--accent); color:#000; font-weight:bold; border:none; cursor:pointer; border-radius:10px; letter-spacing:5px;">INITIALIZE</button>
        </div>
    </div>

    <div id="desktop" class="hidden">
        <div id="hud">
            <div id="time">00:00:00</div>
            <div style="font-family:var(--font-mono); opacity:0.6; font-size:14px;">SYS_STATUS: OPTIMAL | 01.08.2026</div>
        </div>

        <div id="ai-interface">
            <div id="mark-face">
                <div class="eye-socket left"><div class="pupil"></div></div>
                <div class="eye-socket right"><div class="pupil"></div></div>
                <div id="mouth"></div>
            </div>
            <div id="ai-bubble">M.A.R.K: Architect V18 is live. My neural engines have been recalibrated for peak precision, Mason.</div>
        </div>

        <div id="win-c4" class="window" style="top:200px; left:500px;">
            <div class="win-bar"><span>NEURAL_CONNECT_4</span><span class="close-btn" onclick="OS.close('c4')">√ó</span></div>
            <div class="grid-container"><div class="c4-grid" id="c4-board"></div></div>
        </div>

        <div id="win-ttt" class="window" style="top:150px; left:550px;">
            <div class="win-bar"><span>TACTICAL_XO</span><span class="close-btn" onclick="OS.close('ttt')">√ó</span></div>
            <div class="grid-container"><div class="ttt-grid" id="ttt-board"></div></div>
        </div>

        <div id="taskbar">
            <div class="icon" onclick="OS.open('c4')" title="Connect 4">üî¥</div>
            <div class="icon" onclick="OS.open('ttt')" title="Tic-Tac-Toe">‚öîÔ∏è</div>
            <div class="icon" onclick="alert('V18 Bios: Optimizing...')" title="Diagnostics">üì°</div>
        </div>
    </div>

    <script>
        const OS = {
            c4Data: Array(6).fill().map(() => Array(7).fill(0)),
            tttData: Array(9).fill(null),
            
            boot() {
                const p = document.getElementById('sys-pass').value;
                if(["honey", "vip420", "masononly69", ""].includes(p)) {
                    document.getElementById('auth-wrap').classList.add('hidden');
                    document.getElementById('desktop').classList.remove('hidden');
                    this.initClock();
                    this.initEyes();
                }
            },

            initClock() {
                setInterval(() => {
                    document.getElementById('time').innerText = new Date().toLocaleTimeString('en-GB');
                }, 1000);
            },

            initEyes() {
                document.addEventListener('mousemove', (e) => {
                    const pupils = document.querySelectorAll('.pupil');
                    pupils.forEach(pupil => {
                        const rect = pupil.parentElement.getBoundingClientRect();
                        const centerX = rect.left + rect.width / 2;
                        const centerY = rect.top + rect.height / 2;
                        const angle = Math.atan2(e.clientY - centerY, e.clientX - centerX);
                        const distance = Math.min(rect.width / 4, Math.hypot(e.clientX - centerX, e.clientY - centerY) / 10);
                        
                        const x = Math.cos(angle) * distance;
                        const y = Math.sin(angle) * distance;
                        
                        pupil.style.transform = `translate(calc(-50% + ${x}px), calc(-50% + ${y}px))`;
                    });
                });
            },

            open(id) {
                const win = document.getElementById(`win-${id}`);
                win.style.display = 'flex';
                win.style.transform = 'scale(0.9) translateY(20px)';
                setTimeout(() => win.style.transform = 'scale(1) translateY(0)', 10);
                if(id === 'c4') this.drawC4();
                if(id === 'ttt') this.drawTTT();
            },

            close(id) { document.getElementById(`win-${id}`).style.display = 'none'; },

            drawC4() {
                const b = document.getElementById('c4-board');
                b.innerHTML = '';
                this.c4Data.forEach((row, r) => {
                    row.forEach((cell, c) => {
                        const div = document.createElement('div');
                        div.className = `c4-cell ${cell === 1 ? 'p1' : cell === 2 ? 'p2' : ''}`;
                        div.onclick = () => this.moveC4(c);
                        b.appendChild(div);
                    });
                });
            },

            moveC4(c) {
                for (let r = 5; r >= 0; r--) {
                    if (this.c4Data[r][c] === 0) {
                        this.c4Data[r][c] = 1;
                        this.drawC4();
                        setTimeout(() => this.aiC4(), 600);
                        return;
                    }
                }
            },

            aiC4() {
                let c = Math.floor(Math.random() * 7);
                for (let r = 5; r >= 0; r--) {
                    if (this.c4Data[r][c] === 0) {
                        this.c4Data[r][c] = 2;
                        this.drawC4();
                        return;
                    }
                }
                this.aiC4();
            },

            drawTTT() {
                const b = document.getElementById('ttt-board');
                b.innerHTML = '';
                this.tttData.forEach((cell, i) => {
                    const div = document.createElement('div');
                    div.className = 'ttt-cell';
                    div.innerText = cell || '';
                    div.onclick = () => {
                        if(!this.tttData[i]) {
                            this.tttData[i] = 'X';
                            this.drawTTT();
                            setTimeout(() => this.aiTTT(), 500);
                        }
                    };
                    b.appendChild(div);
                });
            },

            aiTTT() {
                const empty = this.tttData.map((v, i) => v === null ? i : null).filter(v => v !== null);
                if(empty.length > 0) {
                    this.tttData[empty[Math.floor(Math.random() * empty.length)]] = 'O';
                    this.drawTTT();
                }
            }
        };
    </script>
</body>
</html>
