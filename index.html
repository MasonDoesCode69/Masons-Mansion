<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mason’s Mansion</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --bg: #050505;
            --panel: rgba(20, 20, 20, .75);
            --card: rgba(30, 30, 30, .9);
            --border: #222;
            --text: #f5f5f5;
            --muted: #9a9a9a;
            --accent: #7df9ff;
            --glow: rgba(125, 249, 255, .35);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            overflow: hidden;
            cursor: none;
        }

        /* cursor */
        .cursor-core, .cursor-glow, .cursor-trail {
            position: fixed; pointer-events: none; border-radius: 50%; z-index: 9999;
        }
        .cursor-core { width: 6px; height: 6px; background: var(--accent); }
        .cursor-glow { width: 120px; height: 120px; background: radial-gradient(circle, var(--glow), transparent 70%); filter: blur(8px); }
        .cursor-trail { width: 36px; height: 36px; border: 1px solid rgba(255, 255, 255, .35); opacity: .5; transition: transform .12s ease-out; }

        /* overlays */
        .overlay {
            position: fixed; inset: 0; background: rgba(0, 0, 0, .88); display: flex; align-items: center; justify-content: center; z-index: 10000;
        }
        .box {
            background: var(--panel); backdrop-filter: blur(14px); border: 1px solid var(--border); border-radius: 20px;
            padding: 26px; width: 320px; text-align: center; box-shadow: 0 0 50px #000;
        }
        .box h2 { letter-spacing: .18em; margin-bottom: 15px; font-size: 1.2rem; }
        .box input { width: 100%; padding: 12px; border-radius: 12px; border: 1px solid var(--border); background: var(--card); color: var(--text); text-align: center; margin-bottom: 10px; }
        .box button { padding: 10px 20px; border-radius: 12px; border: none; background: var(--accent); color: #000; cursor: pointer; font-weight: 600; margin: 5px; transition: 0.2s; }
        .box button:hover { opacity: 0.8; transform: scale(1.05); }
        .error { display: none; color: #ff6a6a; font-size: 12px; margin-top: 5px; }

        /* page layout */
        .page { max-width: 1200px; margin: 0 auto; padding: 20px; height: 100vh; display: flex; flex-direction: column; }
        header { display: flex; justify-content: space-between; align-items: center; background: var(--panel); border: 1px solid var(--border); border-radius: 24px; padding: 16px 22px; margin-bottom: 18px; }
        header h1 { font-size: 20px; letter-spacing: .25em; }
        header span { font-size: 11px; color: var(--muted); }
        .layout { display: grid; grid-template-columns: 260px 1fr; gap: 18px; flex-grow: 1; overflow: hidden; padding-bottom: 20px;}
        .panel { background: var(--panel); backdrop-filter: blur(14px); border: 1px solid var(--border); border-radius: 20px; padding: 14px; overflow-y: auto; }
        .panel h3 { font-size: 12px; letter-spacing: .18em; color: var(--muted); margin: 15px 0 8px 0; text-transform: uppercase; }
        .panel h3:first-child { margin-top: 0; }
        
        .game { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 12px; margin-bottom: 8px; cursor: pointer; transition: .15s; font-size: 14px; }
        .game:hover { border-color: var(--accent); box-shadow: 0 0 18px var(--glow); }
        .setting { display: flex; justify-content: space-between; align-items: center; font-size: 12px; margin-bottom: 8px; padding: 4px 0; }
        
        iframe { width: 100%; height: 100%; border: none; border-radius: 18px; background: #000; }

        /* theme buttons */
        .theme-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 5px; }
        .theme-btn { padding: 8px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1); cursor: pointer; font-size: 10px; font-weight: 600; text-align: center; }
        .login-btn { width: 100%; padding: 10px; margin-top: 8px; border-radius: 12px; border: none; cursor: pointer; font-weight: 600; color: #fff; background: #333; transition: 0.2s; }
        .login-btn:hover { background: #444; }
    </style>
</head>
<body>

<div class="cursor-glow"></div>
<div class="cursor-trail"></div>
<div class="cursor-core"></div>

<div class="overlay" id="lock">
    <div class="box">
        <h2>MASON’S MANSION</h2>
        <input id="userPass" type="password" placeholder="Enter password">
        <button onclick="unlock()">Enter</button>
        <div class="error" id="userErr">Wrong password</div>
    </div>
</div>

<div class="overlay" id="vipLogin" style="display:none">
    <div class="box">
        <h2>VIP LOGIN</h2>
        <input id="vipPass" type="password" placeholder="VIP password">
        <button onclick="vipUnlock()">Enter</button>
        <button onclick="closeAllOverlays()">Cancel</button>
        <div class="error" id="vipErr">Access Denied</div>
    </div>
</div>

<div class="overlay" id="ownerLogin" style="display:none">
    <div class="box">
        <h2>OWNER LOGIN</h2>
        <input id="ownerPass" type="password" placeholder="Owner password">
        <button onclick="ownerUnlock()">Enter</button>
        <button onclick="closeAllOverlays()">Cancel</button>
        <div class="error" id="ownerErr">Access Denied</div>
    </div>
</div>

<div class="overlay" id="adminPanel" style="display:none">
    <div class="box">
        <h2>OWNER ADMIN</h2>
        <input id="gName" placeholder="Game name">
        <input id="gUrl" placeholder="Game URL">
        <button onclick="addGame()">Add Game</button>
        <button onclick="closeAllOverlays()">Close</button>
    </div>
</div>

<div class="page">
    <header>
        <h1>MASON’S MANSION</h1>
        <span id="status">Member Access</span>
    </header>

    <div class="layout">
        <aside class="panel">
            <h3>GAMES</h3>
            <div id="gamesList"></div>

            <h3>SETTINGS</h3>
            <div class="setting">New Tab <input type="checkbox" id="optTab"></div>
            <div class="setting">Sandbox <input type="checkbox" id="optSandbox" checked></div>
            <div class="setting">Cloak <input type="checkbox" id="optCloak"></div>

            <h3>THEMES</h3>
            <div id="themesList" class="theme-grid"></div>

            <h3>ACCESS</h3>
            <button class="login-btn" onclick="showOverlay('vipLogin')">VIP Access</button>
            <button class="login-btn" onclick="showOverlay('ownerLogin')">Owner Access</button>
            <button class="login-btn" id="adminBtn" style="display:none; background:var(--accent); color:#000;" onclick="showOverlay('adminPanel')">Admin Menu</button>
        </aside>

        <section class="panel" style="padding:0; overflow:hidden;">
            <iframe id="player" src="about:blank"></iframe>
        </section>
    </div>
</div>

<script>
/* Passwords */
const PASS = { user: "Honey", vip: "VIP67", owner: "masononly69" };
let isVIP = false;
let isOwner = false;

/* Data */
let games = [
    {name:"Gladihoppers", url:"https://xfrapo.github.io/projectroyal/projects/gladihoppers/index.html"},
    {name:"BitLife", url:"https://3kh0.github.io/bitlife/"},
    {name:"Proxy", url:"https://ultraviolet-node.netlify.app/"}
];

const themes = [
    {name:"Honey", type:"public", bg:"#1a1a1a", accent:"#ffbf00", glow:"rgba(255,191,0,.35)"},
    {name:"Blue", type:"public", bg:"#0b0b2b", accent:"#00bfff", glow:"rgba(0,191,255,.35)"},
    {name:"Galaxy", type:"public", bg:"#1b0033", accent:"#bb88ff", glow:"rgba(187,136,255,.35)"},
    {name:"Supernova", type:"owner", bg:"#2b0000", accent:"#ff5500", glow:"rgba(255,85,0,.35)"},
    {name:"VIP Pink", type:"vip", bg:"#1a001a", accent:"#ff3399", glow:"rgba(255,51,153,.35)"},
    {name:"Aurora", type:"public", bg:"#0a1a0a", accent:"#44ff44", glow:"rgba(68,255,68,.35)"}
];

/* Cursor Logic */
const core = document.querySelector(".cursor-core"),
      glow = document.querySelector(".cursor-glow"),
      trail = document.querySelector(".cursor-trail");

document.addEventListener("mousemove", e => {
    core.style.left = e.clientX + "px"; core.style.top = e.clientY + "px";
    glow.style.left = (e.clientX - 60) + "px"; glow.style.top = (e.clientY - 60) + "px";
    trail.style.transform = `translate(${e.clientX - 18}px, ${e.clientY - 18}px)`;
});

/* Auth Logic */
function unlock() {
    if(document.getElementById("userPass").value === PASS.user) {
        document.getElementById("lock").style.display = "none";
        renderGames();
        renderThemes();
    } else {
        document.getElementById("userErr").style.display = "block";
    }
}

function vipUnlock() {
    if(document.getElementById("vipPass").value === PASS.vip) {
        isVIP = true;
        closeAllOverlays();
        document.getElementById("status").innerText = "VIP MEMBER";
        renderThemes();
        alert("VIP Privileges Activated");
    } else { document.getElementById("vipErr").style.display = "block"; }
}

function ownerUnlock() {
    if(document.getElementById("ownerPass").value === PASS.owner) {
        isOwner = true;
        isVIP = true;
        closeAllOverlays();
        document.getElementById("status").innerText = "OWNER MODE";
        document.getElementById("adminBtn").style.display = "block";
        renderThemes();
    } else { document.getElementById("ownerErr").style.display = "block"; }
}

/* UI Functions */
function showOverlay(id) { document.getElementById(id).style.display = "flex"; }
function closeAllOverlays() { 
    document.querySelectorAll('.overlay').forEach(el => {
        if(el.id !== 'lock') el.style.display = "none";
    });
}

function renderGames() {
    const container = document.getElementById("gamesList");
    container.innerHTML = "";
    games.forEach(g => {
        let div = document.createElement("div");
        div.className = "game";
        div.innerText = g.name;
        div.onclick = () => loadGame(g.url);
        container.appendChild(div);
    });
}

function renderThemes() {
    const container = document.getElementById("themesList");
    container.innerHTML = "";
    themes.forEach(t => {
        if(t.type === "public" || (t.type === "vip" && isVIP) || (t.type === "owner" && isOwner)) {
            let b = document.createElement("button");
            b.className = "theme-btn";
            b.style.background = t.bg;
            b.style.color = t.accent;
            b.innerText = t.name;
            b.onclick = () => {
                document.documentElement.style.setProperty('--bg', t.bg);
                document.documentElement.style.setProperty('--accent', t.accent);
                document.documentElement.style.setProperty('--glow', t.glow);
            };
            container.appendChild(b);
        }
    });
}

function loadGame(url) {
    const frame = document.getElementById("player");
    const useTab = document.getElementById("optTab").checked;
    const useSandbox = document.getElementById("optSandbox").checked;
    const useCloak = document.getElementById("optCloak").checked;

    if(useTab) {
        window.open(url, '_blank');
        return;
    }

    if(useCloak) {
        const win = window.open('about:blank', '_blank');
        win.document.body.style.margin = '0';
        win.document.body.style.height = '100vh';
        const iframe = win.document.createElement('iframe');
        iframe.style.border = 'none';
        iframe.style.width = '100%';
        iframe.style.height = '100%';
        iframe.src = url;
        win.document.body.appendChild(iframe);
    } else {
        frame.removeAttribute("sandbox");
        if(useSandbox) frame.setAttribute("sandbox", "allow-scripts allow-same-origin allow-forms");
        frame.src = url;
    }
}

function addGame() {
    const name = document.getElementById("gName").value;
    const url = document.getElementById("gUrl").value;
    if(name && url) {
        games.push({name, url});
        renderGames();
        closeAllOverlays();
    }
}
</script>
</body>
</html>
